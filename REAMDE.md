Data migration tool v1.3
========================================

Описание
----------------------------------------
   Основным предназначением модуля является сохранение файлов с обучающей выборкой в базу данных.
При этом, система поддерживает файлы следующих форматов: arff, xls, xlsx, csv, json, txt, data, docx, xml.
Система также поддерживает сохранение имен атрибутов, представленных кириллицей. При сохранении в базу,
данные подвергаются следующим преобразованиям:

1. Каждый специальный символ в имени атрибута преобразуется в символ '_'. Отметим, что
к специальным символам не относятся цифры, буквы латинского алфавита и кириллица.

2. Каждый специальный символ в имени таблицы преобразуется в символ '_'.

3. Если длина значения номинального атрибута превышает 255 символов, то оно обрезается
до соответствующей длины.


Необходимый софт
----------------------------------------
* jdk 1.8
* maven >= 3.3.9
* eca-core 6.5.1
* База данных PostgreSQL для хранения информации.

Описание ключевой конфигурации модуля
----------------------------------------
Настройки для проекта data-migration-tool находятся в application.yml. Основные параметры:
1) spring.datasource - настройки БД для хранения информации
2) migration — основные настройки модуля миграции:
   
   * migration.dateFormat - формат даты для атрибутов типа "Дата"
   * migration.dataStoragePath - путь к директории с файлами данных на диске
   * migration.batchSize - размер блока для транзакционного сохранения данных в базу данных
   * migration.durationInSeconds - интервал между запусками scheduler для миграции данных
   * migration.jobEnabled - выключатель для миграции данных с помощью scheduler

Инструкция по развертыванию
----------------------------------------
    
1. В файловой системе создать директорию, например, с именем dataStorage.

2. В настройке migration.dataStoragePath указать абсолютный путь к этой директории,
   например, /home/roman/dataStorage.
   
3. Собрать проект с помощью системы сборки проекта maven. Ниже приведен пример команды:

   mvn clean install
   
4. Запустить проект из командной строки с помощью команды:

   java -jar data-migration-tool-1.2.jar
  
5. End point для миграции данных доступен по адресу http://[host]:[port]/migration-tool/migrate. Где host и port -
   адрес хоста и номер порта, на котором развернуто приложение. Ниже приведен пример команды через утилиту curl
   для миграции данных через end point:
   
   curl -i -X POST -H "Content-Type: multipart/form-data" -F "dataFile=@/home/roman/IrisEX.csv" http://localhost:8091/migration-tool/migrate

6. Страница с документацией swagger находится по адресу http://[host]:[port]/swagger-ui.html, где host и port
   соответственно адрес машины и порт на котором развернуто приложение.